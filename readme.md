# Микросервис управления гостями

## Обзор

Этот проект представляет собой микросервис на PHP, предназначенный для управления записями о гостях. Он предоставляет RESTful API для операций CRUD с данными гостей

## Используемые технологии

- PHP 8.1
- MySQL 5.7
- Docker
- Composer


### Эндпоинты

#### 1. Получить всех гостей
- **URL:** `/guest/list`
- **Метод:** `GET`
- **Ответ:**
    - **200 OK**: Возвращает JSON-массив всех гостей

#### 2. Найти гостя по ID
- **URL:** `/guest/find`
- **Метод:** `GET`
- **Параметры запроса:**
    - `id` (обязательный): ID гостя, которого нужно найти
- **Ответ:**
    - **200 OK**: Возвращает данные о госте в виде JSON-объекта
    - **404 Not Found**: Если гость не найден

#### 3. Создать или обновить гостя
- **URL:** `/guest/store`
- **Метод:** `POST`
- **Тело запроса:**
    ```json
    {
        "id": 1, // Необязательный, для обновления существующего гостя
        "name": "Иван",
        "last_name": "Иванов",
        "email": "ivan.ivanov@example.com",
        "phone": "+71234567890",
        "country": "Россия"
    }
    ```
- **Ответ:**
    - **200 OK**: Гость успешно создан/обновлён
    - **400 Bad Request**: Если валидация не прошла
    - **404 Not Found**: Если при обновлении не найден гость
    - **500 Internal Server Error**: Если возникла проблема при сохранении гостя

#### 4. Удалить гостя
- **URL:** `/guest/destroy`
- **Метод:** `DELETE`
- **Параметры запроса:**
    - `id` (обязательный): ID гостя, которого нужно удалить
- **Ответ:**
    - **200 OK**: Гость успешно удалён
    - **404 Not Found**: Если гость не найден
    - **500 Internal Server Error**: Если возникла проблема при удалении гостя

### Заголовки отладки

Все ответы содержат следующие заголовки:
- `X-Debug-Time`: Время обработки запроса в миллисекундах.
- `X-Debug-Memory`: Память, использованная во время запроса, в килобайтах.

## Запуск микросервиса

### Предварительные требования
- Установленные Docker и Docker Compose на вашем компьютере.

### Настройка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/MikeGagarin/bnovo
   cd bnovo
   ```
2. Заполните подключение к БД в .env. Пример можно найти по пути app/.env.example
   
3. Соберите и запустите Docker-контейнер:
    ```bash
    docker-compose up --build
   ```